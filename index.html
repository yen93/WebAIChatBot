<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web AI Chat Assistant - Dark Mode</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* --- Dark Mode General Styling & Variables --- */
        :root {
            --primary-color: #00C9A7; /* New Teal/Cyan Accent */
            --secondary-color: #00A889; /* Darker Teal */
            --dark-color: #f0f2f5; /* Light text on dark bg */
            --light-color: #1a202c; /* Deep Navy/Dark Background */
            --gray-color: #2d3748; /* Secondary Dark Background */
            --text-color: #a0aec0; /* Lighter gray text */
            --shadow: 0 10px 25px rgba(0, 0, 0, 0.5); /* Stronger shadow for dark mode */
            --border-radius: 12px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.7;
            color: var(--text-color);
            background-color: var(--light-color);
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 30px;
        }

        section {
            padding: 80px 0;
        }

        h1, h2, h3 {
            color: var(--dark-color);
            font-weight: 700;
            line-height: 1.2;
            margin-bottom: 20px;
        }

        h1 { font-size: 3.5rem; }
        h2 { font-size: 2.5rem; text-align: center; }
        h3 { font-size: 1.8rem; }
        
        p { margin-bottom: 20px; }

        .btn {
            display: inline-block;
            padding: 15px 35px;
            background: var(--primary-color);
            color: var(--light-color);
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 201, 167, 0.4); /* Teal shadow */
        }

        .btn:hover {
            background: var(--secondary-color);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 201, 167, 0.6);
        }

        img.showcase-img {
            max-width: 100%;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            border: 1px solid var(--gray-color);
        }

        /* --- Header & Navigation --- */
        .header {
            background: var(--light-color);
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
        }

        .nav a {
            color: var(--text-color);
            text-decoration: none;
            margin-left: 25px;
            font-weight: 600;
            transition: color 0.3s ease;
        }
        
        .nav a:hover {
            color: var(--primary-color);
        }

        /* --- Hero Section --- */
        .hero {
            padding: 100px 0;
            background: var(--gray-color);
            text-align: center;
        }

        .hero h1 {
            background: linear-gradient(90deg, var(--primary-color), var(--dark-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 20px auto 40px;
            color: var(--dark-color);
        }

        /* --- Features Section --- */
        .features .feature {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: center;
            margin-bottom: 80px;
        }

        .features .feature:last-child {
            margin-bottom: 0;
        }

        .features .feature:nth-child(even) .feature-image {
            order: 2;
        }
        
        .feature-content .icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        /* --- Tech Stack Section --- */
        .tech-stack {
            background-color: var(--gray-color);
        }
        
        .tech-logos {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 50px;
            margin-top: 40px;
            flex-wrap: wrap;
        }
        
        .tech-logo {
            text-align: center;
            font-weight: 600;
            color: var(--dark-color);
        }

        .tech-logo svg {
            width: 64px;
            height: 64px;
            margin-bottom: 10px;
            fill: var(--primary-color); /* Use accent color for logos */
        }
        
        /* --- CTA Section --- */
        .cta {
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            color: var(--light-color);
            text-align: center;
            border-radius: var(--border-radius);
            padding: 60px 30px;
        }
        
        .cta h2, .cta p {
            color: var(--light-color);
        }
        
        .cta-btn {
            background: var(--light-color);
            color: var(--primary-color);
            box-shadow: none;
        }
        .cta-btn:hover {
            background: #f0f0f0;
            color: var(--primary-color);
            box-shadow: none;
        }

        /* --- Footer --- */
        .footer {
            background-color: var(--light-color);
            color: var(--text-color);
            text-align: center;
            padding: 30px 0;
            border-top: 1px solid #333;
        }
        .footer p { margin: 0; }

        /* --- Chat Demo Component Styles (Messenger Style) --- */
        .boxAIChat {
            max-width: 400px;
            height: 500px;
            margin: 30px auto;
            padding: 20px;
            background-color: #252a36; /* Dark chat background */
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            font-family: 'Poppins', sans-serif;
        }

        .chat-header p {
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 16px;
            color: var(--dark-color);
            font-weight: 500;
        }

        .input-area {
            display: flex;
            align-items: flex-end;
            gap: 10px;
        }

        #inputBox {
            flex-grow: 1;
            min-height: 40px;
            padding: 10px 15px;
            border: 1px solid #4a5568; /* Dark mode border */
            background-color: #2d3748; /* Slightly lighter input background */
            color: var(--dark-color);
            border-radius: 20px;
            resize: none;
            font-size: 14px;
            outline: none;
            transition: border-color 0.2s;
        }

        #inputBox::placeholder {
            color: #718096;
        }

        #inputBox:focus {
            border-color: var(--primary-color);
        }

        .input-area button {
            background-color: var(--primary-color);
            color: var(--light-color);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            flex-shrink: 0;
            transition: background-color 0.2s;
        }

        .input-area button:hover {
            background-color: var(--secondary-color);
        }

        .divider {
            border: 0;
            height: 1px;
            background-color: #4a5568;
            margin: 20px 0;
        }

        .response-label {
            margin-bottom: 10px;
            font-size: 14px;
            color: var(--dark-color);
            font-weight: 500;
        }

        #displayBox {
            width: 100%;
            min-height: 280px;
            padding: 15px;
            border: none;
            background-color: #1a202c; /* Same as main BG for sleek look */
            border-radius: 8px;
            resize: none;
            font-size: 14px;
            color: var(--primary-color); /* Accent color for the response text */
        }
        /* --- Knowledge Base Component Styles --- */
        .boxKB {
            display: flex;
            flex-direction: column;
            background-color: #252a36; /* Dark chat background */
            border: 1px solid #4a5568;
            border-radius: var(--border-radius);
            box-sizing: border-box;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
        }
        
        /* Knowledge Base Display Table */
        #data-display {
            /* Set a fixed height so the content can exceed it */
            height: 350px; 
            /* The key property: enables vertical scrolling when content overflows */
            overflow-y: auto; 
            padding-right: 10px; /* Space for the scrollbar */
            margin-bottom: 20px;
        }

        #data-display table {
            width: 100%;
            border-collapse: collapse; /* Ensure clean table lines */
            font-size: 0.9rem;
        }

        #data-display th, #data-display td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #4a5568; /* Dark line separators */
        }

        #data-display th {
            color: var(--primary-color);
            background-color: #2d3748; /* Header background */
            position: sticky; /* Keep header visible when scrolling */
            top: 0;
            z-index: 10;
        }
        
        #data-display tr:hover {
            background-color: #384252; /* Subtle hover effect */
        }

        /* KB Input Area */
        .boxKB .bottomStyle {
            display: flex;
            gap: 10px;
        }

        #KBinputBox {
            flex-grow: 1;
            min-height: 40px;
            padding: 10px 15px;
            border: 1px solid #4a5568;
            background-color: #2d3748;
            color: var(--dark-color);
            border-radius: 8px; /* Less round than chat input */
            resize: none;
            font-size: 14px;
            outline: none;
            transition: border-color 0.2s;
        }

        .boxKB .bottomStyle button {
            background-color: var(--primary-color);
            color: var(--light-color);
            border: none;
            border-radius: 8px;
            width: 80px;
            height: 40px;
            cursor: pointer;
            font-weight: 600;
            flex-shrink: 0;
            transition: background-color 0.2s;
        }
        
        .boxKB .bottomStyle button:hover {
            background-color: var(--secondary-color);
        }

        /* --- Responsive Design --- */
        @media(max-width: 768px) {
            h1 { font-size: 2.5rem; }
            h2 { font-size: 2rem; }
            
            .features .feature {
                grid-template-columns: 1fr;
                text-align: center;
            }
            .features .feature:nth-child(even) .feature-image {
                order: 0;
            }
            .feature-image {
                margin-bottom: 30px;
            }
            .header .container {
                flex-direction: column;
                gap: 10px;
            }
            .nav a {
                margin: 0 10px;
            }
        }
    </style>
</head>
<body>

    <header class="header">
        <div class="container">
            <a href="#" class="logo">Web AI Chat Assistant</a>
            <nav class="nav">
                <a href="#features">Features</a>
                <a href="#tech">Technology</a>
                <a href="#contact">Contact</a>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h1>Your AI-Powered Website Customer Chat Assistant</h1>
            <p>
                Seamlessly integrate an AI chat assistant into your company website to instantly automate customer responses and boost your team's efficiency.
            </p>
            <a href="#contact" class="btn">Contact Us</a>
        </div>
    </section>

    <section id="features" class="features">
        <div class="container">
            <h2>Transform Your Company Website with an AI customer assistant</h2>
            
            <div class="feature">
                <div class="boxAIChat">
                    <div class="chat-header">
                        <p>Hi! How may I help you today?:</p>
                    </div>
                    <div class="input-area">
                        <textarea id="inputBox" placeholder='Enter your message here.'></textarea>
                        <button onclick="sendRequest()">Send</button>
                    </div>

                    <hr class="divider">

                    <div class="bottomStyle">
                        <p class="response-label">AI Assistant Response:</p>
                        <textarea id="displayBox" readonly placeholder="Response will appear here..."></textarea>
                    </div>
                </div>
                <div class="feature-content">
                    <div class="icon">&#128233;</div>
                    <h3>Intelligent Customer Handling</h3>
                    <p>
                        Intelligent Customer Handling leverages our integrated AI assistant to provide instant, 24/7 support directly on your website. The system accurately interprets customer intent, automates routine inquiries, and ensures complex issues are swiftly routed to human agents. This boosts team efficiency and guarantees a fast, personalized, and consistently high-quality customer experience.
                    </p>
                </div>
            </div>

            <div class="feature"> 
                <div class="feature-content">
                    <div class="icon">&#128214;</div>
                    <h3>Knowledge Base Management</h3>
                    <p>
                        Fuel your AI with your own business knowledge. Easily add, edit, and manage information in a centralized knowledge base. The AI uses this data to craft precise, consistent answers, ensuring your brand's voice is always perfect.
                    </p>
                </div>
                <div class="boxKB">
                    <div id="data-display">
                        <p style="color: var(--text-color); text-align: center;">Loading knowledge base data...</p>
                    </div> 
                    <div class="bottomStyle">
                        <textarea id="KBinputBox" placeholder='Enter your KB info here.'></textarea>
                        <button onclick="AddToKnowledgeBase()">Add</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="tech" class="tech-stack">
        <div class="container">
            <h2>Built on a Robust & Modern Stack</h2>
            <p style="text-align: center; color: var(--text-color);">Leveraging enterprise-grade technology for unmatched performance and reliability.</p>
            <div class="tech-logos">
                <div class="tech-logo">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M256 32V51.2C329 66 384 128.2 384 208V226.8C353.4 221.3 320 224 288 234.7V208C288 172.7 259.3 144 224 144S160 172.7 160 208V304C160 339.3 188.7 368 224 368S288 339.3 288 304V285.3C320 274.7 353.4 277.3 384 282.8V304C384 383.8 329 446 256 460.8V480H352C369.7 480 384 465.7 384 448S369.7 416 352 416H320V384H352C369.7 384 384 369.7 384 352S369.7 320 352 320H320V288H352C369.7 288 384 273.7 384 256S369.7 224 352 224H320V192H352C369.7 192 384 177.7 384 160S369.7 128 352 128H320V96H352C369.7 96 384 81.7 384 64S369.7 32 352 32H256zM64 32C28.7 32 0 60.7 0 96V416C0 451.3 28.7 480 64 480H192V32H64z"/></svg>
                    ASP.NET Core
                </div>
                <div class="tech-logo">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M448 80v48c0 44.2-100.3 80-224 80S0 172.2 0 128V80C0 35.8 100.3 0 224 0S448 35.8 448 80zM393.2 214.7c20.8-7.4 39.9-16.9 54.8-28.6V288c0 44.2-100.3 80-224 80S0 332.2 0 288V186.1c14.9 11.8 34 21.2 54.8 28.6C99.1 229.3 158.2 240 224 240s124.9-10.7 169.2-25.3zM448 352v48c0 44.2-100.3 80-224 80S0 444.2 0 400V352c0-14.4 6.6-27.4 17.6-36.9C52.8 333.1 133.1 368 224 368s171.2-34.9 206.4-52.9C441.4 324.6 448 337.6 448 352z"/></svg>
                    FireBase RTDB
                </div>
            </div>
        </div>
    </section>

    <section id="contact">
        <div class="container">
             <div class="cta">
                <h2>Ready to See It in Action?</h2>
                <p>
Upgrade your site experience. Book a demo today and discover how our Chat Assistant delivers instant interactions, turning your website into a smarter, more dynamic platform.                </p>
                <br/>
                <p>Email us through:</p>
                <a href="mailto:onegaia93@gmail.com" class="btn cta-btn">onegaia93@gmail.com</a>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Gaia One Solutions. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
        const API_URL = "https://fqsapi.onrender.com/FireBaseFQS/GetChatResponse";
        /**
         * Sends the JSON from the input box as a POST request and displays the raw response.
         */
        async function sendRequest() {
            const inputBox = document.getElementById('inputBox');
            const displayBox = document.getElementById('displayBox');
            const requestBody = inputBox.value.trim();
            // Note: The original code wrapped the whole string in JSON.stringify, which is unusual for a typical POST body but kept for function consistency.
            const jsonString = JSON.stringify(requestBody); 

            // Simple validation
            if (!requestBody) {
                displayBox.value = "Error: Input box is empty. Please enter your message.";
                return;
            }

            // Clear previous output and show loading message
            displayBox.value = "Sending request...";

            try {
                // Check if the input is valid JSON before sending (The original code had a confusing check: it checks if the JSON.stringify(string) is valid JSON, which it always is)
                // For a typical chat, you just send the string. Keeping the original structure for API compatibility.
                // JSON.parse(jsonString); 
            } catch (e) {
                // displayBox.value = `Error: Please make sure your message is not empty before sending. (Details: ${e.message})`;
                // return;
            }

            try {
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: jsonString
                });

                const responseText = await response.text();
                
                displayBox.value = responseText;

                if (!response.ok) {
                    displayBox.value = `HTTP Error ${response.status} (${response.statusText}):\n\n${responseText}`;
                }

            } catch (error) {
                displayBox.value = `Network or Fetch Error: ${error.message}. Check the console for more details.`;
                console.error("Fetch failed:", error);
            }
        }
    
        const API_AddToKnowledgeBase = "https://fqsapi.onrender.com/FireBaseFQS/AddToKnowledgeBase";
        /**
         * Sends the JSON from the input box as a POST request and displays the raw response.
         */
        async function AddToKnowledgeBase() {
            const inputBox = document.getElementById('KBinputBox');
            const requestBody = inputBox.value.trim();
            // Note: The original code wrapped the whole string in JSON.stringify
            const jsonString = JSON.stringify(requestBody); 

            // Simple validation
            if (!requestBody) {
                inputBox.value = "Error: Input box is empty. Please enter information to add.";
                return;
            }

            // Clear previous output and show loading message
            inputBox.value = "Sending request...";

            // No JSON validation is strictly needed here if the API expects a simple string body.

            try {
                const response = await fetch(API_AddToKnowledgeBase, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: jsonString
                });

                const responseText = await response.text();
                
                inputBox.value = responseText;

                // SUCCESS - Refresh the page after a short delay
                if (response.ok) {
                    setTimeout(() => {
                        location.reload();
                    }, 1000); // 1 second delay to show success message
                } else {
                    inputBox.value = `HTTP Error ${response.status} (${response.statusText}):\n\n${responseText}`;
                }

            } catch (error) {
                inputBox.value = `Network or Fetch Error: ${error.message}. Check the console for more details.`;
                console.error("Fetch failed:", error);
            }
        }
    

        const API_GetKnowledgeBaseL = "https://fqsapi.onrender.com/FireBaseFQS/GetKnowledgeBase";
        const DATA_CONTAINER = document.getElementById('data-display');
        async function fetchAndDisplayData() {
            try {
                // 1. Fetch the data with a POST request (even with an empty body)
                const response = await fetch(API_GetKnowledgeBaseL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    // The POST request requires a body, even if it's empty JSON
                    body: JSON.stringify({}) 
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                // 2. Parse the JSON response
                const data = await response.json(); 

                // 3. Render the data
                renderTable(data);

            } catch (error) {
                console.error("Error fetching or rendering data:", error);
                DATA_CONTAINER.innerHTML = `<p style="color: red; text-align: center;">Error loading data: ${error.message}</p>`;
            }
        }
        /**
         * Converts the JSON array into an HTML table and inserts it into the container.
         * @param {Array<Object>} data - The array of knowledge base objects.
         */
        function renderTable(data) {
            if (!data || data.length === 0) {
                DATA_CONTAINER.innerHTML = "<p style='color: var(--text-color); text-align: center;'>No knowledge base entries found.</p>";
                return;
            }

            // Start building the HTML table string
            let tableHTML = `
                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Information</th>
                            <th>Date Added</th>
                        </tr>
                    </thead>
                    <tbody>
            `;

            // Iterate over the data array and build a row for each item
            data.forEach(item => {
                // Optional: Format the date string for better readability
                const formattedDate = new Date(item.DateAdded).toLocaleDateString('en-US', {
                    year: 'numeric', month: 'short', day: 'numeric'
                });

                tableHTML += `
                    <tr>
                        <td style="color: var(--primary-color); font-weight: 600;">${item.ID}</td>
                        <td>${item.Info}</td>
                        <td>${formattedDate}</td>
                    </tr>
                `;
            });

            // Close the table
            tableHTML += `
                    </tbody>
                </table>
            `;

            // Insert the complete table HTML into the container
            DATA_CONTAINER.innerHTML = tableHTML;
        }

        // 4. Run the function when the page is loaded
        window.onload = fetchAndDisplayData; 
    
    </script>

</body>
</html>
